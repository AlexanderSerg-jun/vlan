# VLAN и Bonding

Этот проект предоставляет автоматизированную настройку сетевых VLAN и соединения Bonding с использованием инструментов Ansible и Vagrant.
Описание проекта

Проект включает в себя настройку следующих компонентов:

- VLAN: Установка и настройка виртуальных локальных сетей (VLAN) на клиентских и серверных узлах.
- Bonding: Создание соединения Bonding с использованием интерфейсов eth1 и eth2 на маршрутизаторе и центральном маршрутизаторе.

## Требования

Для запуска проекта на вашем локальном компьютере должны быть установлены следующие программы:

- Vagrant
- VirtualBox
- Ansible

## Установка и запуск

Склонируйте репозиторий на вашем локальном компьютере:

```bash

git clone https://github.com/AlexanderSerg-jun/vlan.git
```

Перейдите в каталог проекта:

```bash

cd vlan

```

Запустите виртуальные машины с помощью Vagrant:

```bash

vagrant up
```

Это создаст и настроит виртуальные машины в соответствии с файлом Vagrantfile.


```

Плейбук `vlan.yml` содержит задачи по настройке VLAN и соединения Bonding на соответствующих узлах.

## Структура проекта

Проект содержит следующие файлы и каталоги:

+ `Vagrantfile`: Файл конфигурации Vagrant, описывающий виртуальные машины и их параметры сети.
+ `templates/`: Каталог, содержащий конфигурационные файлы виртуальных машин.
+ `templates/50-cloud-init.yaml.j2`: Файл конфигурации для настройки VLAN на узлах типа testClient2 и testServer2.
+ `templates/ifcfg-bond0.j2`: Файл конфигурации для настройки соединения Bonding на маршрутизаторе и центральном маршрутизаторе.
+ `config/ifcfg-eth1`: Файл конфигурации для интерфейса eth1 на маршрутизаторе и центральном маршрутизаторе.
+ `config/ifcfg-eth2`: Файл конфигурации для интерфейса eth2 на маршрутизаторе и центральном маршрутизаторе.
+ `templates/ifcfg-vlan1.j2`: Файл конфигурации для настройки VLAN на узлах типа testClient1 и testServer1.
+ `vlan.yml`: Плейбук Ansible .

## Описание задач Ansible

### Base set up progs

#### Установка необходимых программ на узлах CentOS:

+ vim
+ traceroute
+ tcpdump
+ net-tools

#### Установка необходимых программ на узлах Debian:

+ vim
+ traceroute
+ tcpdump
+ net-tools

#### Настройка VLAN1

+ Настройка VLAN1 на узлах testClient1 и testServer1.
+ Копирование файла конфигурации ifcfg-vlan1.j2 на узлы.
+ Перезапуск NetworkManager для применения настроек VLAN1.

#### Настройка VLAN2

+ Настройка VLAN2 на узлах testClient2 и testServer2.
+ Копирование файла конфигурации 50-cloud-init.yaml.j2 на узлы.
+ Применение настроек VLAN2 с помощью команды netplan apply.

#### Настройка Bonding

+ Настройка соединения Bonding на узлах inetRouter и centralRouter.
+ Копирование файла конфигурации ifcfg-bond0.j2 на узлы.
+ Копирование файлов конфигурации ifcfg-eth1 и ifcfg-eth2 на узлы.
+ Перезагрузка узлов для применения настроек Bonding.

## Описание Vagrant

Файл Vagrantfile содержит описание виртуальных машин и их параметров сети. В проекте используются следующие виртуальные машины:

+ `inetRouter`: Маршрутизатор с IP-адресом 192.168.56.10. Используется для настройки соединения Bonding.
+ `centralRouter`: Центральный маршрутизатор с IP-адресом 192.168.56.11. Используется для настройки соединения Bonding.
+ `office1Router`: Маршрутизатор с IP-адресом 192.168.56.20.
+ `testClient1`: Клиентский узел с IP-адресом 192.168.56.21. Используется для настройки VLAN1.
+ `testServer1`: Серверный узел с IP-адресом 192.168.56.22. Используется для настройки VLAN1.
+ `testClient2`: Клиентский узел с IP-адресом 192.168.56.31. Используется для настройки VLAN2.
+ `testServer2`: Серверный узел с IP-адресом 192.168.56.32. Используется для настройки VLAN2.

Для каждой виртуальной машины указаны параметры сети, такие как IP-адрес и ключи SSH для аутентификации.
